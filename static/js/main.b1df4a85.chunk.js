(this["webpackJsonpgiphy-search-app"]=this["webpackJsonpgiphy-search-app"]||[]).push([[0],{11:function(t,e,n){t.exports={root:"Details_root__2Mojx",descriptionContainer:"Details_descriptionContainer__24f29",imageContainer:"Details_imageContainer__2acbJ",detailsList:"Details_detailsList__184BK",listItem:"Details_listItem__1X8q5"}},19:function(t,e,n){t.exports={form:"SearchForm_form__qWosj",controlGroup:"SearchForm_controlGroup__3WC92",nativeInput:"SearchForm_nativeInput__2EJ9x",button:"SearchForm_button__1AUaN"}},26:function(t,e,n){t.exports={header:"App_header__3ZZ1n",main:"App_main__3ZkGI",footer:"App_footer__29Fsv"}},27:function(t,e,n){t.exports={root:"Card_root__3Uy6V",img:"Card_img__qr-qd",title:"Card_title__2pVhP",loader:"Card_loader__cbGdK"}},31:function(t,e,n){t.exports={root:"Grid_root__1g4nG",myMasonryGrid:"Grid_myMasonryGrid__1TABX",myMasonryGrid_column:"Grid_myMasonryGrid_column__19AhA"}},38:function(t,e,n){t.exports={backButton:"BackButton_backButton__18SxD"}},41:function(t,e,n){t.exports={loadMore:"Search_loadMore__2QGBO"}},48:function(t,e,n){},49:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),r=n(35),o=n.n(r),i=(n(48),n(49),n(28)),s=n(3),u=n(26),l=n.n(u),j=n(6),d=n(13),h=n(9),_=n.n(h),b=n(10),O=n(22),f=n(23),p=n(25),m=n(42),v=function(t){Object(f.a)(n,t);var e=Object(p.a)(n);function n(t){var a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return Object(O.a)(this,n),(a=e.call(this,t)).status=c,a}return n}(Object(m.a)(Error)),x=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.giphy.com/v1",REACT_APP_API_KEY:"P5BfhvrL0E7b66u7IgP7v9n7eYPlphau"}),g=x.REACT_APP_API_URL,P=x.REACT_APP_API_KEY,S=function(t){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return"".concat(e,"/gifs/").concat(t,"?api_key=").concat(n)},E=function(){var t=Object(b.a)(_.a.mark((function t(e){var n,a,c,r,o=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:40,a=o.length>2&&void 0!==o[2]?o[2]:0,t.next=4,fetch(S(e,n,a,g,P));case 4:if(!((c=t.sent).status>=400)){t.next=7;break}throw new v(c.statusText,c.status);case 7:return t.next=9,c.json();case 9:return r=t.sent,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=n(38),C=n.n(A),T=n(1),y=function(){var t=Object(s.f)();return Object(T.jsx)("button",{className:C.a.backButton,onClick:function(){return t.goBack()},title:"go back",children:"<"})},R=n(11),I=n.n(R),N=function(t){var e=t.location,n=t.match,c=t.history,r=n.params.id,o=Object(a.useState)(void 0),i=Object(j.a)(o,2),s=i[0],u=i[1];console.log(e,c),Object(a.useEffect)((function(){E(r).then((function(t){var e=t.data;u(e)}))}),[r]);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.a,{children:Object(T.jsx)("title",{children:"Details"})}),Object(T.jsxs)("div",{className:["pageRoot",I.a.root].join(" "),children:[Object(T.jsx)(y,{}),s?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("div",{className:I.a.imageContainer,children:Object(T.jsx)("img",{src:s.images.original.url,alt:""})}),Object(T.jsx)("div",{className:I.a.descriptionContainer,children:Object(T.jsxs)("ul",{className:I.a.detailsList,children:[Object(T.jsx)("li",{className:I.a.listItem,children:s.title}),Object(T.jsx)("li",{className:I.a.listItem,children:Object(T.jsx)("a",{href:s.url,target:"blank",rel:"noopener",children:"Open on GIPHY.COM"})}),Object(T.jsx)("li",{className:I.a.listItem,children:Object(T.jsx)("button",{children:"Copy link"})})]})})]}):"Loading"]})]})},L=n(32),k=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.giphy.com/v1",REACT_APP_API_KEY:"P5BfhvrL0E7b66u7IgP7v9n7eYPlphau"}),w=k.REACT_APP_API_URL,D=k.REACT_APP_API_KEY,F=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return"".concat(a,"/gifs/search?q=").concat(t,"&limit=").concat(e,"&offset=").concat(n,"&api_key=").concat(c)},G=function(){var t=Object(b.a)(_.a.mark((function t(e){var n,a,c,r,o=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:40,a=o.length>2&&void 0!==o[2]?o[2]:0,t.next=4,fetch(F(e,n,a,w,D));case 4:if(!((c=t.sent).status>=400)){t.next=7;break}throw new v(c.statusText,c.status);case 7:return t.next=9,c.json();case 9:return r=t.sent,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.giphy.com/v1",REACT_APP_API_KEY:"P5BfhvrL0E7b66u7IgP7v9n7eYPlphau"}),B=U.REACT_APP_API_URL,K=U.REACT_APP_API_KEY,M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return"".concat(a,"/gifs/trending?limit=").concat(e,"&offset=").concat(n,"&api_key=").concat(c)},W=function(){var t=Object(b.a)(_.a.mark((function t(e){var n,a,c,r,o=arguments;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:40,a=o.length>2&&void 0!==o[2]?o[2]:0,t.next=4,fetch(M(e,n,a,B,K));case 4:if(!((c=t.sent).status>=400)){t.next=7;break}throw new v(c.statusText,c.status);case 7:return t.next=9,c.json();case 9:return r=t.sent,t.abrupt("return",r);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=n(43),H=n(31),Y=n.n(H),V=n(27),J=n.n(V),Z=function(t){var e=t.previewUrl,n=(t.title,t.id),c=(t.username,t.url,t.height,t.width,t.className),r=Object(a.useState)(!1),o=Object(j.a)(r,2),i=o[0],s=o[1],u={opacity:i?1:0},l={opacity:i?0:1};return Object(T.jsxs)("a",{className:[J.a.root,c].join(" "),href:"/gif/".concat(n),children:[Object(T.jsx)("img",{src:e,style:u,onLoad:function(t){s(!0)},alt:"",className:J.a.imgGif}),Object(T.jsx)("div",{className:J.a.loader,style:l,children:"Loading"})]})},X=Object(a.memo)(Z,(function(t,e){return t.id!==e.id})),Q=function(t){var e=t.items,n="preview_webp";return Object(T.jsx)(q.a,{breakpointCols:{default:4,1100:3,700:2,500:1},className:Y.a.myMasonryGrid,children:e.map((function(t){return Object(T.jsx)("div",{className:Y.a.myMasonryGrid_column,children:Object(T.jsx)(X,{id:t.id,url:t.url,previewUrl:t.images[n].url,title:t.title,width:t.images[n].width,height:t.images[n].height},t.id)})}))})},z=function(t,e){return new URLSearchParams(t.search).get(e)||null},$=n(41),tt=n.n($),et=function(t,e,n){var a=function(t,e,n){var a=new URLSearchParams(t.search);return a.set(e,n),console.log(a.toString()),a}(e,"offset",n);console.log(a),t.push("".concat(e.pathname,"?").concat(a))},nt=function(t){var e=t.location,n=t.history,c=Object(a.useState)([]),r=Object(j.a)(c,2),o=r[0],i=r[1],s=Object(a.useState)(parseInt(z(e,"offset")||"0")),u=Object(j.a)(s,2),l=u[0],h=u[1],O=Object(a.useState)(10),f=Object(j.a)(O,2),p=f[0],m=(f[1],Object(a.useState)(void 0)),v=Object(j.a)(m,2),x=(v[0],v[1]),g=Object(a.useState)(void 0),P=Object(j.a)(g,2),S=P[0],E=P[1],A=Object(a.useState)(z(e,"q")),C=Object(j.a)(A,2),R=C[0],I=C[1],N=function(){var t=Object(b.a)(_.a.mark((function t(e,n){var a,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=W,e&&(a=G),t.next=5,a(e,p,l);case 5:c=t.sent,i(n?c.data:[].concat(Object(L.a)(o),Object(L.a)(c.data))),x(c.pagination.total_count),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),E(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){I(z(e,"q"))}),[e.search]),Object(a.useEffect)((function(){N(R,!0)}),[R]),Object(a.useEffect)((function(){et(n,e,l),N(R)}),[l]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(d.a,{children:Object(T.jsx)("title",{children:"Search"})}),Object(T.jsxs)("div",{className:"pageRoot",children:[Object(T.jsx)(y,{}),Object(T.jsxs)("div",{children:[S?"Error...":null,o||o.length>0?Object(T.jsx)(Q,{items:o}):null]}),Object(T.jsx)("button",{className:tt.a.loadMore,onClick:function(){h(l+p)},children:"Load More"})]})]})},at=n(19),ct=n.n(at),rt=function(t){var e=t.onSubmit,n=t.value,c=Object(a.useState)(n||""),r=Object(j.a)(c,2),o=r[0],i=r[1];return Object(T.jsxs)("form",{className:ct.a.form,onSubmit:function(t){t.preventDefault(),o&&e(o)},children:[Object(T.jsx)("div",{className:ct.a.controlGroup,children:Object(T.jsx)("input",{name:"query",type:"text",value:o,onChange:function(t){var e=t.target.value;i(e)},className:ct.a.nativeInput})}),Object(T.jsx)("button",{className:ct.a.button,children:"Search"})]})},ot=Object(s.g)((function(t){var e=t.location,n=t.history;console.log(e,n);var a=z(e,"q")||"";return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("header",{className:l.a.header,children:Object(T.jsx)(rt,{onSubmit:function(t){n.push("/search?q=".concat(t))},value:a})}),Object(T.jsx)("main",{className:l.a.main,children:Object(T.jsxs)(s.c,{children:[Object(T.jsx)(s.a,{push:!0,path:"/",exact:!0,render:function(t){return Object(T.jsx)(nt,Object(i.a)({},t))}}),Object(T.jsx)(s.a,{push:!0,path:"/gif/:id",exact:!0,render:function(t){return Object(T.jsx)(N,Object(i.a)({},t))}}),Object(T.jsx)(s.a,{push:!0,path:"/search",exact:!0,render:function(t){return Object(T.jsx)(nt,Object(i.a)({},t))}})]})}),Object(T.jsx)("footer",{className:l.a.footer,children:"Footer"})]})})),it=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),c(t),r(t),o(t)}))},st=n(20);o.a.render(Object(T.jsx)(c.a.StrictMode,{children:Object(T.jsx)(st.a,{children:Object(T.jsx)(ot,{})})}),document.getElementById("root")),it(console.log)}},[[56,1,2]]]);
//# sourceMappingURL=main.b1df4a85.chunk.js.map