{"version":3,"sources":["pages/Details.module.css","components/SearchForm/SearchForm.module.css","App.module.css","components/Card/Card.module.css","components/Grid/Grid.module.css","components/BackButton/BackButton.module.css","pages/Search.module.css","api/ApiError.js","api/details.js","components/BackButton/BackButton.jsx","pages/Details.jsx","api/search.js","api/trending.js","components/Card/Card.jsx","components/Grid/Grid.jsx","utils/index.js","pages/Search.jsx","components/SearchForm/SearchForm.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["module","exports","ApiError","message","status","Error","process","REACT_APP_API_URL","REACT_APP_API_KEY","getUrl","id","apiUrl","apiKey","requestDetails","text","a","limit","offset","fetch","response","statusText","json","data","BackButton","history","useHistory","className","styles","backButton","onClick","goBack","title","Details","location","match","params","useState","undefined","item","setItem","console","log","useEffect","then","Helmet","root","join","imageContainer","src","images","url","alt","descriptionContainer","detailsList","listItem","href","target","rel","getSearchUrl","q","searchRequest","trendingRequest","Card","previewUrl","username","height","width","loaded","setLoaded","inlineImageStyles","opacity","loaderInlineStyles","style","onLoad","e","imgGif","loader","wrapped","memo","props","nextProps","Grid","items","sourceType","breakpointCols","default","1100","700","500","myMasonryGrid","map","myMasonryGrid_column","getQuery","key","URLSearchParams","search","get","setOffsetToQuery","newOffset","query","param","value","set","toString","setToQueryParams","push","pathname","Search","setItems","parseInt","setOffset","setTotal","error","setError","setQuery","flush","makeRequest","pagination","total_count","length","loadMore","SearchForm","onSubmit","querySearch","setQuerySearch","form","preventDefault","controlGroup","name","type","onChange","nativeInput","button","withRouter","querySeacrh","header","main","path","exact","render","footer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0c9504e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Details_root__2Mojx\",\"descriptionContainer\":\"Details_descriptionContainer__24f29\",\"imageContainer\":\"Details_imageContainer__2acbJ\",\"detailsList\":\"Details_detailsList__184BK\",\"listItem\":\"Details_listItem__1X8q5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__qWosj\",\"controlGroup\":\"SearchForm_controlGroup__3WC92\",\"nativeInput\":\"SearchForm_nativeInput__2EJ9x\",\"button\":\"SearchForm_button__1AUaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__3ZZ1n\",\"main\":\"App_main__3ZkGI\",\"footer\":\"App_footer__29Fsv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Card_root__3Uy6V\",\"img\":\"Card_img__qr-qd\",\"title\":\"Card_title__2pVhP\",\"loader\":\"Card_loader__cbGdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Grid_root__1g4nG\",\"myMasonryGrid\":\"Grid_myMasonryGrid__1TABX\",\"myMasonryGrid_column\":\"Grid_myMasonryGrid_column__19AhA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backButton\":\"BackButton_backButton__18SxD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadMore\":\"Search_loadMore__2QGBO\"};","export class ApiError extends Error {\n  constructor(message, status = 500) {\n    super(message);\n    this.status = status\n  }\n}","import { ApiError } from './ApiError';\nconst { REACT_APP_API_URL, REACT_APP_API_KEY } = process.env;\n\nexport const getUrl = (id, limit = 40, offset = 0, apiUrl = \"\", apiKey = \"\") => {\n  return `${apiUrl}/gifs/${id}?api_key=${apiKey}`;\n};\n\nexport const requestDetails = async (text, limit = 40, offset = 0) => {\n  const response = await fetch(getUrl(text, limit, offset, REACT_APP_API_URL, REACT_APP_API_KEY));\n  if (response.status >= 400) {\n    throw new ApiError(response.statusText, response.status);\n  }\n  const data = await response.json();\n  return data;\n};\n","import { useHistory } from 'react-router';\nimport styles from './BackButton.module.css';\n\nexport const BackButton = () => {\n  const history = useHistory();\n  return (\n    <button\n      className={styles.backButton}\n      onClick={() => history.goBack()}\n      title='go back'\n    >\n      {'<'}\n    </button>\n  );\n};\n","import { useEffect, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { requestDetails } from '../api/details';\nimport { BackButton } from '../components/BackButton';\nimport styles from './Details.module.css';\nconst Details = ({ location, match, history }) => {\n  const id = match.params.id;\n  const [item, setItem] = useState(undefined);\n\n  console.log(location, history);\n  useEffect(() => {\n    requestDetails(id).then(({ data }) => {\n      setItem(data);\n    });\n  }, [id]);\n  const sourceType = 'original';\n  //   previewUrl={details.images[sourceType].url}\n  return (\n    <>\n      <Helmet>\n        <title>Details</title>\n      </Helmet>\n      <div className={['pageRoot', styles.root].join(' ')}>\n        <BackButton />\n        {item ? (\n          <>\n            <div className={styles.imageContainer}>\n              <img src={item.images[sourceType].url} alt='' />\n            </div>\n            <div className={styles.descriptionContainer}>\n              <ul className={styles.detailsList}>\n                <li className={styles.listItem}>{item.title}</li>\n                <li className={styles.listItem}>\n                  <a href={item.url} target='blank' rel='noopener'>\n                    Open on GIPHY.COM\n                  </a>\n                </li>\n                <li className={styles.listItem}>\n                  <button>Copy link</button>\n                </li>\n              </ul>\n            </div>\n          </>\n        ) : (\n          'Loading'\n        )}\n      </div>\n    </>\n  );\n};\n\nexport { Details };\n","import { ApiError } from './ApiError';\nconst { REACT_APP_API_URL, REACT_APP_API_KEY } = process.env;\n\nexport const getSearchUrl = (q, limit = 40, offset = 0, apiUrl = \"\", apiKey = \"\") => {\n  return `${apiUrl}/gifs/search?q=${q}&limit=${limit}&offset=${offset}&api_key=${apiKey}`;\n};\n\nexport const searchRequest = async (text, limit = 40, offset = 0) => {\n  const response = await fetch(getSearchUrl(text, limit, offset, REACT_APP_API_URL, REACT_APP_API_KEY));\n  if (response.status >= 400) {\n    throw new ApiError(response.statusText, response.status);\n  }\n  const data = await response.json();\n  return data;\n};\n","import { ApiError } from './ApiError';\nconst { REACT_APP_API_URL, REACT_APP_API_KEY } = process.env;\n\nexport const getUrl = (q, limit = 40, offset = 0, apiUrl = \"\", apiKey = \"\") => {\n  return `${apiUrl}/gifs/trending?limit=${limit}&offset=${offset}&api_key=${apiKey}`;\n};\n\nexport const trendingRequest = async (text, limit = 40, offset = 0) => {\n  const response = await fetch(getUrl(text, limit, offset, REACT_APP_API_URL, REACT_APP_API_KEY));\n  if (response.status >= 400) {\n    throw new ApiError(response.statusText, response.status);\n  }\n  const data = await response.json();\n  return data;\n};\n","import { memo, useState } from 'react';\nimport styles from './Card.module.css';\n\nconst Card = ({\n  previewUrl,\n  title,\n  id,\n  username,\n  url,\n  height,\n  width,\n  className,\n}) => {\n \n  const [loaded, setLoaded] = useState(false);\n\n  const inlineImageStyles = {\n    opacity: loaded ? 1 : 0\n  };\n\n  const onLoad = (e) => {\n    setLoaded(true);\n  };\n\n  const loaderInlineStyles = {\n    opacity: loaded ? 0 : 1\n  }\n\n  return (\n    <a\n      className={[styles.root, className].join(' ')}\n      href={`/gif/${id}`}\n    >\n     <img\n          src={previewUrl}\n          style={inlineImageStyles}\n          onLoad={onLoad}\n          alt=''\n          className={styles.imgGif}\n        />\n      <div className={styles.loader} style={loaderInlineStyles}>Loading</div>\n    </a>\n  );\n};\nconst wrapped = memo(Card, (props, nextProps) => {\n  return props.id !== nextProps.id\n})\nexport { wrapped as Card };\n","import React from 'react';\nimport Masonry from 'react-masonry-css'\nimport styles from './Grid.module.css';\nimport { Card } from '../Card';\n\nconst Grid = ({ items }) => {\n  const sourceType = 'preview_webp';\n  const breakpointColumnsObj = {\n    default: 4,\n    1100: 3,\n    700: 2,\n    500: 1\n  };\n  return (\n    <Masonry\n      breakpointCols={breakpointColumnsObj}\n      className={styles.myMasonryGrid}\n    >\n      {items.map((item) => (\n      <div className={styles.myMasonryGrid_column}>\n          <Card\n          id={item.id}\n          key={item.id}\n          url={item.url}\n          previewUrl={item.images[sourceType].url}\n          title={item.title}\n          width={item.images[sourceType].width}\n          height={item.images[sourceType].height}\n        />\n      </div>\n      ))}\n    </Masonry>\n  );\n};\n\nexport { Grid };\n","export const getQuery = (location, key) => {\n  const y = new URLSearchParams(location.search);\n  return y.get(key) || null;\n};\n\nexport const setToQueryParams = (location, param, value) => {\n  let params = new URLSearchParams(location.search);\n  params.set(param, value)\n  console.log(params.toString())\n  return params\n}","import { useState, useEffect, useRef } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { searchRequest } from '../api/search';\nimport { trendingRequest } from '../api/trending';\nimport { Grid } from '../components/Grid';\nimport { BackButton } from '../components/BackButton';\nimport { getQuery, setToQueryParams } from '../utils';\nimport styles from './Search.module.css';\n\nconst setOffsetToQuery = (history, location, newOffset) => {\n  const query = setToQueryParams(location, 'offset', newOffset)\n  console.log(query)\n  history.push(`${location.pathname}?${query}`)\n}\n\nexport const Search = ({ location, history }) => {\n  const [items, setItems] = useState([]);\n  const [offset, setOffset] = useState(parseInt(getQuery(location, 'offset') || '0'));\n  const [limit, setLimit] = useState(10);\n  const [total, setTotal] = useState(undefined);\n  const [error, setError] = useState(undefined);\n  const [query, setQuery] = useState(getQuery(location, 'q'));\n  \n  const search = async (text, flush) => {\n    try {\n      let makeRequest = trendingRequest;\n      if (text) {\n        makeRequest = searchRequest;\n      }\n      const response = await makeRequest(text, limit, offset);\n      setItems(flush ? response.data : [...items, ...response.data]);\n      setTotal(response.pagination.total_count);\n    } catch (e) {\n      setError(e.message);\n    }\n  };\n\n  const loadMore = () => {\n    const newOffset = offset + limit;\n    setOffset(newOffset);\n  };\n\n  useEffect(() => {\n    setQuery(getQuery(location, 'q'));\n  }, [location.search]);\n\n  useEffect(() => {\n    search(query, true);\n  }, [query]);\n\n  useEffect(() => {\n    setOffsetToQuery(history, location, offset)\n    search(query);\n  }, [offset]);\n\n  return (\n    <>\n      <Helmet>\n        <title>Search</title>\n      </Helmet>\n      <div className={'pageRoot'}>\n        <BackButton />\n        <div>\n          {error ? 'Error...' : null}\n          {items || items.length > 0 ? <Grid items={items} /> : null}\n        </div>\n        <button className={styles.loadMore} onClick={() => loadMore()}>\n          Load More\n        </button>\n      </div>\n    </>\n  );\n};\n","import styles from './SearchForm.module.css';\nimport { useState } from 'react';\n\nexport const SearchForm = ({ onSubmit, value }) => {\n  const [querySearch, setQuerySearch] = useState(value || '');\n\n  const submit = (e) => {\n    e.preventDefault();\n    if (!querySearch) {\n      return;\n    }\n    onSubmit(querySearch);\n  };\n\n  const onChange = (e) => {\n    const text = e.target.value;\n    setQuerySearch(text);\n  };\n  return (\n    <form className={styles.form} onSubmit={submit}>\n      <div className={styles.controlGroup}>\n        <input\n          name='query'\n          type='text'\n          value={querySearch}\n          onChange={onChange}\n          className={styles.nativeInput}\n        />\n      </div>\n      <button className={styles.button}>Search</button>\n    </form>\n  );\n};\n","import React, {useEffect} from 'react';\n\nimport {withRouter, useHistory, Link} from 'react-router-dom'\nimport styles from './App.module.css';\nimport { Switch, Route } from 'react-router-dom';\nimport { Home, Search, Details } from './pages';\nimport { SearchForm } from './components/SearchForm';\nimport { getQuery } from './utils';\n\n// gifs/search?api_key=&q=fun&limit=10&offset=0\n\n\nconst App = ({location, history}) => {\n \n  console.log(location, history)\n  const translteToSearch = (text) => {\n    history.push(`/search?q=${text}`)\n  }\n  const querySeacrh = getQuery(location, 'q') || ''\n\n  return (\n    <>\n      <header className={styles.header}>\n        <SearchForm onSubmit={translteToSearch} value={querySeacrh}/>\n      </header>\n      <main className={styles.main}>\n        <Switch>\n          <Route push path='%PUBLIC_URL%/' exact render={(props) => <Search {...props}/>} />\n          <Route\n            push\n            path='%PUBLIC_URL%/gif/:id'\n            exact\n            render={(props) => <Details {...props} />}\n          />\n          <Route\n            push\n            path='%PUBLIC_URL%/search'\n            exact\n            render={(props) => <Search {...props} />}\n          />\n        </Switch>\n      </main>\n      <footer className={styles.footer}>Footer</footer>\n    </>\n  );\n};\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './variables.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}